Running: /usr/local/bin/colmap feature_extractor --database_path=out/db.db --image_path=images/3 --ImageReader.single_camera=1 --ImageReader.camera_model=SIMPLE_RADIAL
I20251008 13:09:01.963284 815626 misc.cc:198] 
==============================================================================
Feature extraction
==============================================================================
I20251008 13:09:01.967674 815635 sift.cc:716] Creating SIFT GPU feature extractor
I20251008 13:09:02.320017 815636 feature_extraction.cc:257] Processed file [1/6]
I20251008 13:09:02.320094 815636 feature_extraction.cc:260]   Name:            1A.jpeg
I20251008 13:09:02.320111 815636 feature_extraction.cc:286]   Dimensions:      1600 x 1200
I20251008 13:09:02.320117 815636 feature_extraction.cc:289]   Camera:          #1 - SIMPLE_RADIAL
I20251008 13:09:02.320125 815636 feature_extraction.cc:292]   Focal Length:    1920.00px
I20251008 13:09:02.320133 815636 feature_extraction.cc:296]   Features:        12583
I20251008 13:09:02.399623 815636 feature_extraction.cc:257] Processed file [2/6]
I20251008 13:09:02.399665 815636 feature_extraction.cc:260]   Name:            1B.jpeg
I20251008 13:09:02.399675 815636 feature_extraction.cc:286]   Dimensions:      1600 x 1200
I20251008 13:09:02.399682 815636 feature_extraction.cc:289]   Camera:          #1 - SIMPLE_RADIAL
I20251008 13:09:02.399689 815636 feature_extraction.cc:292]   Focal Length:    1920.00px
I20251008 13:09:02.399696 815636 feature_extraction.cc:296]   Features:        13074
I20251008 13:09:02.471338 815636 feature_extraction.cc:257] Processed file [3/6]
I20251008 13:09:02.471382 815636 feature_extraction.cc:260]   Name:            2A.jpeg
I20251008 13:09:02.471391 815636 feature_extraction.cc:286]   Dimensions:      1600 x 1200
I20251008 13:09:02.471398 815636 feature_extraction.cc:289]   Camera:          #1 - SIMPLE_RADIAL
I20251008 13:09:02.471405 815636 feature_extraction.cc:292]   Focal Length:    1920.00px
I20251008 13:09:02.471413 815636 feature_extraction.cc:296]   Features:        11953
I20251008 13:09:02.558943 815636 feature_extraction.cc:257] Processed file [4/6]
I20251008 13:09:02.558986 815636 feature_extraction.cc:260]   Name:            2B.jpeg
I20251008 13:09:02.558996 815636 feature_extraction.cc:286]   Dimensions:      1600 x 1200
I20251008 13:09:02.559003 815636 feature_extraction.cc:289]   Camera:          #1 - SIMPLE_RADIAL
I20251008 13:09:02.559010 815636 feature_extraction.cc:292]   Focal Length:    1920.00px
I20251008 13:09:02.559018 815636 feature_extraction.cc:296]   Features:        12783
I20251008 13:09:02.632735 815636 feature_extraction.cc:257] Processed file [5/6]
I20251008 13:09:02.632824 815636 feature_extraction.cc:260]   Name:            3A.jpeg
I20251008 13:09:02.632840 815636 feature_extraction.cc:286]   Dimensions:      1600 x 1200
I20251008 13:09:02.632848 815636 feature_extraction.cc:289]   Camera:          #1 - SIMPLE_RADIAL
I20251008 13:09:02.632856 815636 feature_extraction.cc:292]   Focal Length:    1920.00px
I20251008 13:09:02.632865 815636 feature_extraction.cc:296]   Features:        10274
I20251008 13:09:02.711455 815636 feature_extraction.cc:257] Processed file [6/6]
I20251008 13:09:02.711503 815636 feature_extraction.cc:260]   Name:            3B.jpeg
I20251008 13:09:02.711511 815636 feature_extraction.cc:286]   Dimensions:      1600 x 1200
I20251008 13:09:02.711519 815636 feature_extraction.cc:289]   Camera:          #1 - SIMPLE_RADIAL
I20251008 13:09:02.711529 815636 feature_extraction.cc:292]   Focal Length:    1920.00px
I20251008 13:09:02.711537 815636 feature_extraction.cc:296]   Features:        9195
I20251008 13:09:02.733424 815626 timer.cc:91] Elapsed time: 0.013 [minutes]
Running: /usr/local/bin/colmap exhaustive_matcher --database_path=out/db.db --SiftMatching.guided_matching=1 --SiftMatching.max_num_matches=50000
I20251008 13:09:02.975526 815724 misc.cc:198] 
==============================================================================
Feature matching
==============================================================================
I20251008 13:09:02.979535 815725 sift.cc:1451] Creating SIFT GPU feature matcher
I20251008 13:09:02.979537 815734 sift.cc:1451] Creating SIFT GPU feature matcher
I20251008 13:09:03.003747 815724 pairing.cc:168] Generating exhaustive image pairs...
I20251008 13:09:03.003764 815724 pairing.cc:202] Matching block [1/1, 1/1]
I20251008 13:09:05.420158 815724 feature_matching.cc:46]  in 2.417s
I20251008 13:09:05.422781 815724 timer.cc:91] Elapsed time: 0.041 [minutes]
Running: /usr/local/bin/colmap mapper --database_path=out/db.db --image_path=images/3 --output_path=out/sparse --Mapper.ba_local_max_num_iterations=50 --Mapper.ba_global_max_num_iterations=100 --Mapper.init_min_num_inliers=60
I20251008 13:09:05.507575 815767 incremental_mapper.cc:225] Loading database
I20251008 13:09:05.509747 815767 database_cache.cc:65] Loading cameras...
I20251008 13:09:05.509779 815767 database_cache.cc:75]  1 in 0.000s
I20251008 13:09:05.509790 815767 database_cache.cc:83] Loading matches...
I20251008 13:09:05.509969 815767 database_cache.cc:89]  12 in 0.000s
I20251008 13:09:05.509979 815767 database_cache.cc:105] Loading images...
I20251008 13:09:05.511590 815767 database_cache.cc:155]  6 in 0.002s (connected 6)
I20251008 13:09:05.511605 815767 database_cache.cc:166] Building correspondence graph...
I20251008 13:09:05.514756 815767 database_cache.cc:195]  in 0.003s (ignored 0)
I20251008 13:09:05.514770 815767 timer.cc:91] Elapsed time: 0.000 [minutes]
I20251008 13:09:05.515678 815767 incremental_mapper.cc:265] Finding good initial image pair
I20251008 13:09:05.558462 815767 incremental_mapper.cc:289] Initializing with image pair #4 and #5
I20251008 13:09:05.560032 815767 incremental_mapper.cc:294] Global bundle adjustment
I20251008 13:09:05.742504 815767 incremental_mapper.cc:265] Finding good initial image pair
I20251008 13:09:05.747695 815767 incremental_mapper.cc:289] Initializing with image pair #4 and #1
I20251008 13:09:05.748972 815767 incremental_mapper.cc:294] Global bundle adjustment
I20251008 13:09:05.950132 815767 incremental_mapper.cc:375] Registering image #2 (3)
I20251008 13:09:05.950163 815767 incremental_mapper.cc:378] => Image sees 842 / 7006 points
I20251008 13:09:06.080333 815767 incremental_mapper.cc:41] Retriangulation and Global bundle adjustment
I20251008 13:09:06.164674 815767 incremental_mapper.cc:375] Registering image #3 (4)
I20251008 13:09:06.164696 815767 incremental_mapper.cc:378] => Image sees 1370 / 6526 points
I20251008 13:09:06.339033 815767 incremental_mapper.cc:41] Retriangulation and Global bundle adjustment
I20251008 13:09:06.413344 815767 incremental_mapper.cc:375] Registering image #5 (5)
I20251008 13:09:06.413364 815767 incremental_mapper.cc:378] => Image sees 1092 / 4566 points
I20251008 13:09:06.569437 815767 incremental_mapper.cc:41] Retriangulation and Global bundle adjustment
I20251008 13:09:06.663978 815767 incremental_mapper.cc:375] Registering image #6 (6)
I20251008 13:09:06.664007 815767 incremental_mapper.cc:378] => Image sees 1427 / 4051 points
I20251008 13:09:06.887300 815767 incremental_mapper.cc:41] Retriangulation and Global bundle adjustment
I20251008 13:09:06.995517 815767 timer.cc:91] Elapsed time: 0.025 [minutes]
Selected reconstruction 0 with 6 registered images and 3660 points.
Running: /usr/local/bin/colmap image_undistorter --image_path=images/3 --input_path=out/sparse/0 --output_path=out/dense --max_image_size=4000
I20251008 13:09:07.035822 815854 misc.cc:198] 
==============================================================================
Reading reconstruction
==============================================================================
I20251008 13:09:07.039528 815854 image.cc:348] => Reconstruction with 6 images and 3660 points
I20251008 13:09:07.039553 815854 misc.cc:198] 
==============================================================================
Image undistortion
==============================================================================
I20251008 13:09:07.039819 815854 undistortion.cc:214] Undistorting image [1/6]
I20251008 13:09:07.221189 815854 undistortion.cc:214] Undistorting image [2/6]
I20251008 13:09:07.233436 815854 undistortion.cc:214] Undistorting image [3/6]
I20251008 13:09:07.246824 815854 undistortion.cc:214] Undistorting image [4/6]
I20251008 13:09:07.246836 815854 undistortion.cc:214] Undistorting image [5/6]
I20251008 13:09:07.246843 815854 undistortion.cc:214] Undistorting image [6/6]
I20251008 13:09:07.250743 815854 undistortion.cc:227] Writing reconstruction...
I20251008 13:09:07.264546 815854 undistortion.cc:232] Writing configuration...
I20251008 13:09:07.264678 815854 undistortion.cc:236] Writing scripts...
I20251008 13:09:07.265538 815854 timer.cc:91] Elapsed time: 0.004 [minutes]
Running: /usr/local/bin/colmap patch_match_stereo --workspace_path=out/dense --workspace_format=COLMAP --PatchMatchStereo.geom_consistency=true
E20251008 13:09:07.291379 815868 mvs.cc:80] Dense stereo reconstruction requires CUDA, which is not available on your system.
Running: /usr/local/bin/colmap stereo_fusion --workspace_path=out/dense --workspace_format=COLMAP --input_type=geometric --output_path=out/dense/fused.ply
I20251008 13:09:07.315485 815873 misc.cc:205] 
StereoFusion::Options
---------------------
I20251008 13:09:07.315658 815873 fusion.cc:89] mask_path: 
I20251008 13:09:07.315666 815873 fusion.cc:90] max_image_size: -1
I20251008 13:09:07.315672 815873 fusion.cc:91] min_num_pixels: 5
I20251008 13:09:07.315677 815873 fusion.cc:92] max_num_pixels: 10000
I20251008 13:09:07.315683 815873 fusion.cc:93] max_traversal_depth: 100
I20251008 13:09:07.315689 815873 fusion.cc:94] max_reproj_error: 2
I20251008 13:09:07.315696 815873 fusion.cc:95] max_depth_error: 0.01
I20251008 13:09:07.315701 815873 fusion.cc:96] max_normal_error: 10
I20251008 13:09:07.315706 815873 fusion.cc:97] check_num_images: 50
I20251008 13:09:07.315711 815873 fusion.cc:98] use_cache: 0
I20251008 13:09:07.315716 815873 fusion.cc:99] cache_size: 32
I20251008 13:09:07.315722 815873 fusion.cc:102] bbox_min: -3.40282e+38 -3.40282e+38 -3.40282e+38
I20251008 13:09:07.315740 815873 fusion.cc:103] bbox_max: 3.40282e+38 3.40282e+38 3.40282e+38
I20251008 13:09:07.315747 815873 fusion.cc:153] Reading workspace...
I20251008 13:09:07.319769 815873 workspace.cc:97] Loading workspace data with 8 threads...
W20251008 13:09:07.319797 815873 workspace.cc:104] Ignoring image 1A.jpeg, because input does not exist.
W20251008 13:09:07.319810 815873 workspace.cc:104] Ignoring image 1B.jpeg, because input does not exist.
W20251008 13:09:07.319823 815873 workspace.cc:104] Ignoring image 2A.jpeg, because input does not exist.
W20251008 13:09:07.319832 815873 workspace.cc:104] Ignoring image 2B.jpeg, because input does not exist.
W20251008 13:09:07.319842 815873 workspace.cc:104] Ignoring image 3A.jpeg, because input does not exist.
W20251008 13:09:07.319852 815873 workspace.cc:104] Ignoring image 3B.jpeg, because input does not exist.
I20251008 13:09:07.319857 815873 timer.cc:91] Elapsed time: 0.000 [minutes]
I20251008 13:09:07.319972 815873 fusion.cc:188] Reading configuration...
W20251008 13:09:07.320545 815873 fusion.cc:218] Ignoring image 1A.jpeg, because input does not exist.
W20251008 13:09:07.320556 815873 fusion.cc:218] Ignoring image 1B.jpeg, because input does not exist.
W20251008 13:09:07.320564 815873 fusion.cc:218] Ignoring image 2A.jpeg, because input does not exist.
W20251008 13:09:07.320571 815873 fusion.cc:218] Ignoring image 2B.jpeg, because input does not exist.
W20251008 13:09:07.320580 815873 fusion.cc:218] Ignoring image 3A.jpeg, because input does not exist.
W20251008 13:09:07.320586 815873 fusion.cc:218] Ignoring image 3B.jpeg, because input does not exist.
I20251008 13:09:07.320591 815873 fusion.cc:256] Starting fusion with 8 threads
I20251008 13:09:07.320659 815873 fusion.cc:292] Fusing image [1/6] with index 0
I20251008 13:09:07.320667 815873 fusion.cc:319]  in 0.000s (0 points)
W20251008 13:09:07.320673 815873 fusion.cc:340] Could not fuse any points. This is likely caused by incorrect settings - filtering must be enabled for the last call to patch match stereo.
I20251008 13:09:07.320678 815873 fusion.cc:346] Number of fused points: 0
I20251008 13:09:07.320703 815873 timer.cc:91] Elapsed time: 0.000 [minutes]
I20251008 13:09:07.324381 815873 mvs.cc:203] Writing output: out/dense/fused.ply
Running: /usr/local/bin/colmap image_undistorter --image_path=images/3 --input_path=out/sparse/0 --output_path=out/dense --output_type COLMAP --max_image_size=-1
I20251008 13:09:07.347466 815893 misc.cc:198] 
==============================================================================
Reading reconstruction
==============================================================================
I20251008 13:09:07.351117 815893 image.cc:348] => Reconstruction with 6 images and 3660 points
I20251008 13:09:07.351140 815893 misc.cc:198] 
==============================================================================
Image undistortion
==============================================================================
I20251008 13:09:07.351253 815893 undistortion.cc:214] Undistorting image [1/6]
I20251008 13:09:07.554862 815893 undistortion.cc:214] Undistorting image [2/6]
I20251008 13:09:07.567302 815893 undistortion.cc:214] Undistorting image [3/6]
I20251008 13:09:07.567317 815893 undistortion.cc:214] Undistorting image [4/6]
I20251008 13:09:07.567325 815893 undistortion.cc:214] Undistorting image [5/6]
I20251008 13:09:07.567332 815893 undistortion.cc:214] Undistorting image [6/6]
I20251008 13:09:07.570752 815893 undistortion.cc:227] Writing reconstruction...
I20251008 13:09:07.583680 815893 undistortion.cc:232] Writing configuration...
I20251008 13:09:07.583820 815893 undistortion.cc:236] Writing scripts...
I20251008 13:09:07.583986 815893 timer.cc:91] Elapsed time: 0.004 [minutes]
Plane fit: pts=3660 inliers=3659 (100.0%) |height| mean=0.0410 p95=0.0275 max=111.2536
Dense depth not found or unreadable; using sparse correspondences.
Orthomosaic size: 3206x4000 (scale=195.474)
/Users/karan/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
[1/6] Removing background for 00_3A.jpeg.png...
   ✅ Saved processed result for 00_3A.jpeg.png
[2/6] Removing background for 01_3B.jpeg.png...
   ✅ Saved processed result for 01_3B.jpeg.png
[3/6] Removing background for 02_2A.jpeg.png...
   ✅ Saved processed result for 02_2A.jpeg.png
[4/6] Removing background for 03_2B.jpeg.png...
   ✅ Saved processed result for 03_2B.jpeg.png
[5/6] Removing background for 04_1B.jpeg.png...
   ✅ Saved processed result for 04_1B.jpeg.png
[6/6] Removing background for 05_1A.jpeg.png...
   ✅ Saved processed result for 05_1A.jpeg.png
✓ [S1] Base reference enhanced: 00_3A.jpeg.png
→ [S1] Matched 01_3B.jpeg.png to 00_3A.jpeg.png
→ [S1] Matched 02_2A.jpeg.png to 01_3B.jpeg.png
→ [S1] Matched 03_2B.jpeg.png to 02_2A.jpeg.png
→ [S1] Matched 04_1B.jpeg.png to 03_2B.jpeg.png
→ [S1] Matched 05_1A.jpeg.png to 04_1B.jpeg.png

🔧 [S1] Computing initial luminance metrics...
   [S1] Initial L_means: [106.6, 106.5, 106.1, 105.6, 105.1, 104.7]
📉 [S1] Drift negligible; skipping drift flattening.

🔧 [S1] Progressive luminance targeting...
   [S1] Global median = 105.83 | Anchors → first: 106.13, last: 105.36
   [S1:1] 00_3A.jpeg.png: scale ×0.996
   [S1:2] 01_3B.jpeg.png: scale ×0.995
   [S1:3] 02_2A.jpeg.png: scale ×0.998
   [S1:4] 03_2B.jpeg.png: scale ×1.001
   [S1:5] 04_1B.jpeg.png: scale ×1.004
   [S1:6] 05_1A.jpeg.png: scale ×1.007
🤝 [S1] Applying neighbor-aware low-freq smoothing...
🎨 [S1] Aligning global chroma (a/b channels, gently)...
✨ [S1] Final mild local-contrast polish (only if flat)...
🎯 [S2] Reference chosen: index 1 → 01_3B.jpeg.png
✓ [S2] Color-aligned: 00_3A.jpeg.png
✓ [S2] Color-aligned: 01_3B.jpeg.png
✓ [S2] Color-aligned: 02_2A.jpeg.png
✓ [S2] Color-aligned: 03_2B.jpeg.png
✓ [S2] Color-aligned: 04_1B.jpeg.png
✓ [S2] Color-aligned: 05_1A.jpeg.png
🌈 [S3] Residual chroma spread 0.21 < threshold 1.50. Skipping global unify.
Harmonization reference tile: index 1 (3B.jpeg)
[AUTO] Evaluating LFE strength 0.50
[AUTO] Evaluating LFE strength 0.55
[AUTO] Evaluating LFE strength 0.60
[AUTO] Evaluating LFE strength 0.65
[AUTO] Selected LFE strength 0.65 (mismatch=6.5825)
[AUTO] Evaluating seam_scale=0.30 (search_method=dp, bands=3)
